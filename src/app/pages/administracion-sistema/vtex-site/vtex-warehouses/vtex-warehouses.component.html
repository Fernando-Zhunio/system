<div class="mt-4">
  <h2 class="font-5xl pl-1 font-facebook list-group-item-accent-warning">Bodegas de Vtex</h2>
  <app-header-search [placeholder]="'Buscador de Bodegas Vtex'" (isLoading)="isLoading = $event" [url]="urlData" (products)="loadData($event)">
  </app-header-search>
  <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="id">
          <mat-header-cell *matHeaderCellDef>#</mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.id}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="vtex_api_id">
          <mat-header-cell *matHeaderCellDef>ID Vtex</mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.vtex_api_id}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef>Nombre</mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.name}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="warehouse_internal">
          <mat-header-cell *matHeaderCellDef> Bodega interna </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.internal_warehouse.name}}
          </mat-cell>
      </ng-container>

      <!-- <ng-container matColumnDef="updated_at">
          <mat-header-cell *matHeaderCellDef> Fecha de edición </mat-header-cell>
          <mat-cell style="display:grid" *matCellDef="let element"> <span *ngFor="let company of element?.companies_access">{{company.name}}</span> </mat-cell>
      </ng-container> -->

      <!-- <ng-container matColumnDef="date_created">
          <mat-header-cell *matHeaderCellDef> Fecha de creación </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.created_at}} </mat-cell>
      </ng-container> -->

      <ng-container matColumnDef="updated_at">
          <mat-header-cell *matHeaderCellDef> Fecha de edición </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{element.updated_at}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="acciones">
          <mat-header-cell *matHeaderCellDef> Acciones </mat-header-cell>
          <mat-cell *matCellDef="let element;let ind = index">
              <button *ngxPermissionsOnly="permissions.edit" mat-icon-button color="primary" [routerLink]="['./edit',element.id]">
        <mat-icon>edit</mat-icon>
      </button>
              <button mat-icon-button color="warn" *ngxPermissionsOnly="permissions.delete" (click)="deleteItem(element.id)">
        <mat-icon>delete</mat-icon>
      </button>
          </mat-cell>
      </ng-container>

      <mat-header-row style="top:67px" *matHeaderRowDef="displayedColumns;sticky: true"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
  </mat-table>
  <mat-paginator *ngIf="ELEMENT_DATA?.length" [pageSizeOptions]="[10, 20, 30]" (page)="changePaginator($event)" showFirstLastButtons [pageSize]="paginator.per_page" [length]="paginator.total" [pageIndex]="paginator.current_page-1"></mat-paginator>

  <button *ngxPermissionsOnly="permissions.create" mat-fab style="position: fixed;bottom: 50px;right: 10px;" [routerLink]="['./create']" routerLinkActive="router-link-active">
  <mat-icon>add</mat-icon>
</button>
</div>
