<div>
  <div class="mt-3 section-order">
    <h3 class="font-3xl font-weight-bold">Transferencias</h3>
    <div>
      <div>
        <div class="row m-0">
          <div class="col-md-6 p-2" *ngFor="let transfer of transfers;let index= index">
            <mat-card>
              <div class="d-md-flex justify-content-between align-items-center">
                <div>Estado: <span class="badge font-sm {{transfer.status}}"> {{transfer.status | translatefz:
                    'orders'}}</span></div>
                <div class="text-success">Doc ID:<span> {{transfer.doc_id}}</span></div>
                <div>
                  <button *ngIf="!isCancelled" color="warn" (click)="unlink(transfer.id)"
                      mat-button>Desvincular factura</button>
              </div>
              </div>
              <p>
                <span>Memo:</span> {{transfer.memo}}
              </p>
              <hr>
              <div class="rounded-lg p-2">
                <div>Bodega de origen: <span class="text-danger"> {{transfer.origin_warehouse?.code}} -
                    {{transfer.origin_warehouse?.name}}</span></div>
                <div>Bodega de destino: <span class="text-success"> {{transfer.destination_warehouse?.code}} -
                    {{transfer.destination_warehouse?.name}}</span></div>
              </div>
              <div>
                <mat-accordion *ngIf="transfer?.items?.length > 0">
                  <mat-expansion-panel class="rounded-fz shadow">
                    <mat-expansion-panel-header>
                      <mat-panel-title>
                        Productos <span class="font-sm badge bg-warning">{{transfer?.items?.length}}</span>
                      </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div *ngFor="let item of transfer?.items">
                      <div>
                        <div>{{item?.product.name}}</div>
                        <div><span class="text-muted">Código:</span> {{item?.product.code}}</div>
                        <div><span class="text-muted">Cantidad:</span> {{item.quantity}}</div>
                      </div>
                      <hr>
                    </div>
                  </mat-expansion-panel>
                </mat-accordion>
              </div>
            </mat-card>
          </div>
        </div>
        <ng-container *ngIf="!isCancelled">
          <button class="mt-2" mat-raised-button color="accent" (click)="isOpenAddTransfer = !isOpenAddTransfer">Agregar
            manualmente</button>
          <div class="add-transfer-container" *ngIf="isOpenAddTransfer">
            <button (click)="isOpenAddTransfer = !isOpenAddTransfer" class="btn-close-add-transfer" mat-mini-fab
              color="warn">
              <mat-icon>close</mat-icon>
            </button>
            <div>
              <mat-form-field>
                <input [formControl]="formControl" matInput placeholder="Doc Id de la transacción">
              </mat-form-field>
              <button [disabled]="isLoading || formControl.invalid" color="primary" mat-raised-button
                (click)="addTransferManually()">enviar</button>
            </div>
          </div>
        </ng-container>
        

      </div>
    </div>

  </div>
</div>
<!-- </div> -->

