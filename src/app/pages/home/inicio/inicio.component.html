<div class="container">
    <div class="my-3 bg-dark rounded-fz">
        <div class=" row m-0 lead">
            <div class="col-md-6 p-3 d-flex align-items-center">
                <div>
                    <div class="position-absolute d-md-block d-none" style="top: 10px;">{{date | date}}</div>
                    <div class="font-5xl mb-3 text-truncate" style="line-height: 1;">Hola {{person.first_name}} {{person.last_name}} </div>
                    <div>Bienvenido a Novisolutions</div>
                    <div class="text-capitalize">{{city}}</div>
                </div>
            </div>
            <div class="col-md-6 position-relative p-3 d-flex align-items-center justify-content-center m-0 rounded-fz">
                <div class="position-absolute badge badge-success font-2xl temp"><i
                        class="fas fa-thermometer-three-quarters"></i> {{weather_date?.main?.temp}}Â°</div>
                <div class="col-md-6">
                    <img [src]="icon_url" class="w-100" alt="icon weather">
                </div>
                <div class="col-md-6 text-capitalize font-2xl">
                    <div style="line-height: 1;">{{weather_date?.weather[0]?.main}} <br>
                        {{weather_date?.weather[0]?.description}}
                        <br> Humedad {{weather_date?.main?.humidity}}%
                    </div>
                </div>
                <div class="position-absolute" style="bottom: 10px;right: 10px;">
                    <button mat-icon-button (click)="getDataWeather()">
                        <mat-icon>autorenew</mat-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <mat-card *ngIf="newsletters && newsletters.length > 0" class="card-body mb-4 rounded-fz shadow-fz">
        <h3 class="text-danger m-0">Lo nuevo en el sistema</h3>
        <div *ngFor="let newsletter of newsletters" class=" card-body rounded-fz shadow mt-3">
            <h4>{{newsletter.title}}</h4>
            <p class="lead" [innerHTML]="newsletter.description"></p>
        </div>
    </mat-card>
    <div>
        <div class="grid-fz m-0">
            <div class="shadow rounded-fz d-flex align-items-center bg-info p-3">
                <i class="fas fa-shopping-bag font-5xl"></i>
                <div class="font-montserrat ml-3">
                    <div class="font-2xl font-montserrat">Total de productos </div>
                    <div class="font-5xl mt-3 font-montserrat">{{productsCount}}</div>
                </div>
            </div>
            <div class="shadow rounded-fz d-flex align-items-center bg-primary p-3">
                <i class="fas fa-clipboard-list font-5xl"></i>
                <div class="font-montserrat ml-3">
                    <div class="font-2xl font-montserrat">Total de Categorias </div>
                    <div class="font-5xl mt-3 font-montserrat">{{categoriesCount}}</div>
                </div>
            </div>
            <div class="shadow rounded-fz d-flex align-items-center bg-success p-3">
                <i class="fas fa-copyright font-5xl"></i>
                <div class="font-montserrat ml-3">
                    <div class="font-2xl font-montserrat">Total de Marcas </div>
                    <div class="font-5xl mt-3 font-montserrat">{{brandCount}}</div>
                </div>
            </div>
        </div>
    </div>
    <div class="mt-3">
        <div class="font-5xl p-3 font-montserrat my-4 font-weight-bold">Ultimas Notificaciones</div>
        <div>
            <div class="card-columns">
                <mat-card class="card rounded-fz font-montserrat border-0 shadow font-weight-bolder h-auto p-3"
                    *ngFor="let notification of notifications">
                    <div class="row m-0 d-flex align-items-center">
                        <div *ngIf="notification.data.image" class="col-md-4">
                            <img class="w-100" [src]="notification.data.image" alt="">
                        </div>
                        <div [ngClass]="notification.data.image?'col-md-8':'col-12'" class="pl-2  font-italic"
                            style="white-space: initial;line-height: 1.3;">
                            <strong>{{notification.data.user.name}}</strong><br> {{notification.data.text}}
                            <br>
                            <small class="text-primary text-uppercase">{{notification.created_at | amLocale:'es' |
                                amTimeAgo}}</small>
                        </div>
                    </div>
                </mat-card>
            </div>
        </div>
    </div>