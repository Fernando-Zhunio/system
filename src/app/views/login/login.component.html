<div style="background-image: url('assets/img/login.svg');background-size: cover;" class="pt-sm-0 pt-4 vh-100 bg-login">
  <main class="main h-100  d-flex align-items-center justify-content-center p-md-3">
    <div class="row m-0 p-0">
      <form *ngIf="isLoginActive;else templateRecuperarCuenta" [formGroup]="formLogin" (ngSubmit)="login()"
        class="col-md-6 col-12 d-flex align-items-center justify-content-center">
        <mat-card class="col-md-8 col-12 rounded-fz">
          <mat-card-header>
            <mat-card-title class="font-facebook font-3xl">LOGIN SYSTEM</mat-card-title>
            <mat-card-subtitle>Formulario de inicio de sesión de Novisolutions</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <mat-form-field class="d-block">
              <mat-label>Correo institucional</mat-label>
              <input matInput autocomplete type="email" formControlName="email">
              <mat-error *ngIf="formLogin.get('email').invalid">Ingrese un correo valido</mat-error>
            </mat-form-field>
            <mat-form-field class="d-block">
              <mat-label>Contraseña</mat-label>
              <input autocomplete matInput [type]="hide ? 'password' : 'text'" formControlName="password">
              <button mat-icon-button matSuffix (click)="hide = !hide" type="button" [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="formLogin.get('password').invalid">Ingrese la contraseña</mat-error>
            </mat-form-field>
          </mat-card-content>
          <mat-card-actions>
            <button color="accent" [disabled]="formLogin.invalid || btnLogin" type="submit" mat-raised-button>Iniciar
              sesión</button>
            <button color="primary" (click)="isLoginActive=false" type="button" mat-raised-button>Recuperar
              cuenta</button>
          </mat-card-actions>
        </mat-card>


      </form>
      <ng-template #templateRecuperarCuenta>
        <form [formGroup]="formRecuperacionCuenta"
          class="col-md-6 col-12 d-flex align-items-center justify-content-center">
          <mat-card class="col-md-8 col-12">
            <mat-card-header>
              <mat-card-title class="font-3xl font-facebook">Recuperación de cuenta</mat-card-title>
              <mat-card-subtitle>Formulario de recuperación de cuenta de Novisolutions</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <mat-form-field class="d-block">
                <mat-label>Correo</mat-label>
                <input matInput autocomplete type="email" formControlName="email">
                <mat-error *ngIf="formRecuperacionCuenta.get('email').invalid">Ingrese un correo valido</mat-error>
              </mat-form-field>
              <!-- <mat-form-field appearance="fill" class="d-block">
                          <mat-label>Contraseña</mat-label>
                          <input autocomplete matInput [type]="hide ? 'password' : 'text'" formControlName="password">
                          <button mat-icon-button matSuffix (click)="hide = !hide" type="button" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                          <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                          </button>
                          <mat-error *ngIf="formLogin.get('password').invalid">Ingrese la contraseña</mat-error>
                      </mat-form-field> -->
            </mat-card-content>
            <mat-card-actions>
              <button (click)="recuperacionCuenta()" color="primary" [disabled]="formRecuperacionCuenta.invalid" type="submit"
                mat-raised-button>Enviar</button>
              <button color="primary" (click)="isLoginActive= true" type="button" mat-raised-button>Ir a inicio de
                sesión</button>
            </mat-card-actions>
          </mat-card>
        </form>
      </ng-template>

      <div class="text-info col-md-6 d-flex align-items-center">
        <div>
          <div class="font-facebook mb-md-5 mb-3" style="font-size: 5vw;">NOVISOLUTIONS</div>
          <p class="lead">Este sistema de información ayuda a administrar, recolectar, recuperar, procesar, almacenar y
            distribuir información relevante para los procesos fundamentales y las particularidades de la organización.
          </p>
        </div>
        <!-- <hr class="my-4">
                <p>Content</p> -->
      </div>
    </div>

    <!-- <div class="container">
            <div class="row">
                <div class="col-md-8 mx-auto">
                    <div class="card-group">
                        <div class="card p-4">
                            <div class="card-body">
                                <form [formGroup]="formLogin" (ngSubmit)="login()">
                                    <h1>Iniciar sesion</h1>
                                    <p class="text-muted">Inicia sesion con su cuenta</p>
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="icon-user"></i></span>
                                        </div>
                                        <input type="text" class="form-control" formControlName="email" [ngClass]="{'is-invalid':!formLogin.controls['email'].valid}" placeholder="Username" autocomplete="username" required>
                                        <div class="invalid-feedback">
                                            Proporcione un correo correcto
                                        </div>
                                    </div>
                                    <div class="input-group mb-4">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="icon-lock"></i></span>
                                        </div>
                                        <input type="password" class="form-control" formControlName="password" placeholder="Password" [ngClass]="{'is-invalid':!formLogin.controls['password'].valid}" autocomplete="current-password" required>
                                        <div class="invalid-feedback">
                                            Proporcione una contraseña
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-6">
                                            <button type="submit" [disabled]="formLogin.invalid || btnLogin" class="btn btn-primary px-4">Iniciar sesion</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="card text-white bg-primary py-5 d-md-down-none" style="width:44%">
                            <div class="card-body text-center">
                                <div>
                                    <h2>Sign up</h2>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
                                    <button type="button" class="btn btn-primary active mt-3">Register Now!</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
  </main>
</div>
<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="square-jelly-box" [fullScreen]="true">
  <p style="color: white"> Cargando... </p>
</ngx-spinner>
