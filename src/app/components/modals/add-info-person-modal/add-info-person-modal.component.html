<h3 class="m-0 mb-3 font-facebook font-2xl">Hola {{data.user.name}}, necesitamos información para nuestra base de datos
</h3>
<div mat-dialog-content>
  <div>
    <form [formGroup]="form_person" class="card rounded-fz border-0 card-body">
      <div class="row">
        <mat-form-field class="col-md-6">
          <mat-label>Nombres</mat-label>
          <input matInput formControlName="first_name" type="text" required>
          <mat-error *ngIf="form_person.controls['first_name'].invalid">Nombres Requerido</mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-6">
          <mat-label>Apellidos</mat-label>
          <input matInput formControlName="last_name" type="text" required>
          <mat-error *ngIf="form_person.controls['last_name'].invalid">Apellidos Requerido</mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-6">
          <mat-label>Tipo de identificación</mat-label>
          <mat-select formControlName="identification_type" required>
            <mat-option *ngFor="let keyType of id_types" [value]="keyType.id">{{keyType.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="form_person.controls['identification_type'].invalid">Tipo de identificación Requerido
          </mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-6">
          <mat-label>Número de identificación</mat-label>
          <input matInput formControlName="identification_number" type="text" required>
          <mat-error *ngIf="form_person.controls['identification_number'].invalid">Número de identificación Requerido
          </mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-6">
          <mat-label>Fecha de nacimiento <small>(d/m/yyyy)</small></mat-label>
          <input [max]="maxDateBirthDay" matInput formControlName="birthday" [matDatepicker]="dp4">
          <mat-datepicker-toggle matSuffix [for]="dp4"></mat-datepicker-toggle>
          <mat-datepicker #dp4 disabled="false"></mat-datepicker>
          <mat-error *ngIf="form_person.controls['birthday'].invalid">Fecha de nacimiento Requerido</mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-6">
          <mat-label>Sexo</mat-label>
          <mat-select formControlName="sex" required>
            <mat-option *ngFor="let keySex of sexes" [value]="keySex.id">{{keySex.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="form_person.controls['sex'].invalid">Sexo Requerido</mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-6">
          <mat-label>Fecha de inicio laboral <small>(d/m/yyy)</small> </mat-label>
          <input matInput [max]="maxDate" formControlName="start_date" [matDatepicker]="dp3">
          <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
          <mat-datepicker #dp3 disabled="false"></mat-datepicker>
          <mat-error *ngIf="form_person.controls['start_date'].invalid">Fecha de inicio laboral Requerido</mat-error>
        </mat-form-field>

        <div class="col-12 font-2xl mt-2 mb-4">Información</div>

        <mat-form-field class="col-md-6">
          <mat-label>Seleccione una ciudad</mat-label>
          <mat-select formControlName="city_id" required>
            <mat-option *ngFor="let keyCity of cities" [value]="keyCity.id">{{keyCity.name}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="form_person.controls['city_id'].invalid">Cuidad Requerido</mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-6">
          <mat-label>Seleccione un departamento</mat-label>
          <mat-select formControlName="department_position_id" required>
            <mat-option *ngFor="let keyPosition of positions" [value]="keyPosition.id">
              {{keyPosition.name}}</mat-option>
          </mat-select>
          <mat-error *ngIf="form_person.controls['department_position_id'].invalid">Departamento Requerido</mat-error>
        </mat-form-field>

        <mat-form-field class="col-md-6">
          <mat-label>Seleccione una oficina / local</mat-label>
          <mat-select formControlName="location_id" required>
            <mat-option *ngFor="let keyLocation of locations " [value]="keyLocation.id">
              {{keyLocation.name}}</mat-option>
          </mat-select>
          <mat-error *ngIf="form_person.controls['location_id'].invalid">Departamento Requerido</mat-error>
        </mat-form-field>

        <div class="form-group col-12">
          <label for="foto">Foto</label>
          <input #photoUserInput id="foto" accept=".png,.jpeg,.jpg" (change)="uploadImg($event)"
            class="form-control-file" type="file" name="">
        </div>
        <div class="col-md-3 col-6 mb-3">
          <ng-container *ngIf="photo">
            <button mat-mini-fab class="position-absolute m-1" (click)="clearPhoto()">
              <mat-icon class="mat-18">close</mat-icon>
            </button>
            <img class="w-100" [src]="photo" alt="imagen de usuario">
          </ng-container>
        </div>
      </div>
    </form>
  </div>
</div>
<div mat-dialog-actions>
  <button [disabled]="isload" mat-raised-button color="primary" (click)="saveInServer()">Guardar información</button>
  <button mat-raised-button color="warn" mat-dialog-close >Cancelar</button>
</div>
