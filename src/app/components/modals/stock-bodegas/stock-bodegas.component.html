<!-- <h1 matDialogTitle>Title</h1>

<mat-dialog-content>
    Dialog content
</mat-dialog-content>

<mat-dialog-actions>
    <button mat-button matDialogClose>Close dialog</button>
    <button mat-button>Action</button>
    
</mat-dialog-actions> -->

<h3 mat-dialog-title class="text-muted">
  {{ data.data.product.name }}
  <button color="accent" mat-icon-button class="mr-1" type="button" color="primary" (click)="viewWareHouseUpdate()">
    <mat-icon>refresh</mat-icon> 
  </button>
</h3>
<div mat-dialog-content>
  <mat-card>
    <mat-card-content>
      <div *ngIf="data.data.stock.length > 0; else cleanData">
        <div class="font-3xl">{{ data.titleOne }}</div>
        <table class="table">
          <thead>
            <tr>
              <td>Bodega</td>
              <td>Cuidad</td>
              <td>Stock</td>
              <td>Actualizado</td>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let warehouse of data.data.stock">
              <td>{{ warehouse.warehouse.name }}</td>
              <td>{{ warehouse.warehouse.city }}</td>
              <td>{{ warehouse.available }}</td>
              <td>{{ warehouse.updated_at  | amLocale:'es' | amTimeAgo }}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr class="font-2xl">
              <td>Total</td>
              <td></td>
              <td>{{ total_stock }}</td>
            </tr>
          </tfoot>
        </table>
      </div>
      <ng-template #cleanData>
        <div class="font-3xl" mat-dialog-title>Sin Stock</div>
      </ng-template>
      <div *ngIf="data?.data?.stock_other && data.data.stock_other.length > 0">
        <div class="font-3xl" mat-dialog-title>{{ data.titleTwo }}</div>
        <table class="table">
          <thead>
            <tr>
              <td>Bodega</td>
              <td>Cuidad</td>
              <td>Stock</td>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let warehouse of data.data.stock_other">
              <td>{{ warehouse.warehouse.name }}</td>
              <td>{{ warehouse.warehouse.city }}</td>
              <td>{{ warehouse.available }}</td>
              <td>{{ warehouse.updated_at  | amLocale:'es' | amTimeAgo }}</td>
            </tr>
          </tbody>
          <tfoot>
            <tr class="font-2xl font-facebook">
              <td>Total</td>
              <td></td>
              <td>{{ total_stock_other }}</td>
            </tr>
          </tfoot>
        </table>
      </div>
      <div
        *ngIf="(data?.data?.stock_other && data?.data?.stock_other.length > 0) || data.data.stock.length > 0"
        class="font-2xl">
        Stock General:
        <span class="text-success">
          {{ total_stock_general }}
        </span>
      </div>
    </mat-card-content>
  </mat-card>
</div>
<div mat-dialog-actions>
  <button mat-button color="accent" mat-dialog-close cdkFocusInitial>Cerrar</button>
</div>
