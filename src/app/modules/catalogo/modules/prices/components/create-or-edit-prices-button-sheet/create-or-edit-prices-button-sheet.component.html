<div style="max-width: 700px">
  <h2 class="font-4xl font-weight-bold">{{ title }}</h2>
  <p *ngIf="externalData.product" class="font-2xl text-muted">{{ externalData.product.name }}</p>
  <div [formGroup]="form">
    <table class="table inputs-group text-center">
      <thead class="text-muted text-uppercase">
        <tr>
          <th>Grupo Precio</th>
          <th>Antes de impuestos</th>
          <th>Después de impuestos</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let group of pricesGroups">
          <td class="text-muted">
            <span>{{ "Precio " + group.name }}</span>
          </td>
          <td>
            <span>
              <input
                autocomplete="off"
                matInput
                type="number"
                [placeholder]="'Precio ' + group.name"
                (keyup)="addOrRemoveTax(group.id)"
                [formControlName]="'price_group_' + group.id" />
            </span>
          </td>
          <td>
            <span>
              <input
                autocomplete="off"
                matInput
                type="number"
                [placeholder]="'Precio ' + group.name"
                (keyup)="addOrRemoveTax(group.id, true)"
                [formControlName]="'tax_price_group_' + group.id" />
            </span>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td class="text-uppercase text-info">Importación</td>
          <td>
            <input
              readonly="true"
              matInput
              type="text"
              placeholder="Importación"
              formControlName="import_code" />
          </td>
          <td>
            <button (click)="openCreateImportDialog()" color="primary" mat-icon-button><i class="fa-solid fa-plus"></i></button>
            <button (click)="openSearchImportDialog()" color="accent" mat-icon-button><i class="fa-solid fa-magnifying-glass"></i></button>
          </td>
        </tr>
      </tfoot>
    </table>
    <!-- <div class="col-12 lead mb-2">Antes de Impuesto</div>
    <div class="col-md-4" *ngFor="let group of pricesGroups">
      <mat-form-field  class="w-100" appearance="fill">
        <mat-label>{{'Precio ' + group.name}}</mat-label>
        <input
          autocomplete="off"
          matInput
          type="number"
          [placeholder]="'Precio ' + group.name"
          (keyup)="addOrRemoveTax(group.id)"
          [formControlName]="'price_group_' + group.id" />
      </mat-form-field>
    </div>
    <div class="col-12 lead mb-2">Después de Impuesto</div>
    <div class="col-md-4"  *ngFor="let group of pricesGroups">
      <mat-form-field class="w-100" appearance="fill">
        <mat-label>{{'Precio ' + group.name}}</mat-label>
        <input
          autocomplete="off"
          matInput
          type="number"
          [placeholder]="'Precio ' + group.name"
          (keyup)="addOrRemoveTax(group.id, true)"
          [formControlName]="'tax_price_group_' + group.id" />
      </mat-form-field>
    </div> -->
    <!-- <div class="col-12 lead mb-2">Importación</div> -->
    <!-- <div class="col-12">
      <mat-form-field class="w-100" appearance="fill">
        <mat-label>Importación</mat-label>
        <input
          readonly="true"
          (click)="openSearchImportDialog()"
          matInput
          type="number"
          placeholder="Importación"
          formControlName="import_id" />
      </mat-form-field>
    </div> -->
    <div class="col-12">
      <button [disabled]="isLoading" (click)="close()" mat-button color="warn" class="mr-2">
        Cerrar
        <i class="fa-solid fa-xmark"></i>
      </button>
      <button mat-button color="primary" (click)="saveInServer()" [disabled]="isLoading">
        Guardar
        <i class="fa-regular fa-floppy-disk"></i>
      </button>
    </div>
  </div>
</div>
