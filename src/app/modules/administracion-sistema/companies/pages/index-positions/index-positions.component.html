<div>
  <h1 class="m-0 mt-3">Departamentos de {{ department?.name }}</h1>
</div>
<ngx-search-bar-paginator title="Jerarquía" [isCustomPaginator]="true" (data)="getData($event)" [path]="url" placeholder="Buscar posiciones de trabajo">
  <ng-container buttons>
    <mat-chip-set>
      <mat-chip color="create" [routerLink]="['./create']">
        <i class="fa-solid fa-plus"></i>
        Posición
      </mat-chip>
    </mat-chip-set>
  </ng-container>
  <ng-container>
    <mat-card>
        <mat-card-content>
            <table mat-table #table [dataSource]="dataSource">
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> # </th>
                    <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                </ng-container>
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef> Nombre </th>
                    <td mat-cell *matCellDef="let row"> {{row.name}} </td>
                </ng-container>
                <ng-container matColumnDef="hierarchy_type">
                    <th mat-header-cell *matHeaderCellDef> Tipo Jerarquía </th>
                    <td mat-cell *matCellDef="let row"> {{row.hierarchy_type}} </td>
                </ng-container>
                <ng-container matColumnDef="employe_type">
                    <th mat-header-cell *matHeaderCellDef> Tipo Empleado </th>
                    <td mat-cell *matCellDef="let row"> {{row.employe_type}} </td>
                </ng-container>
                <ng-container matColumnDef="created_at">
                    <th mat-header-cell *matHeaderCellDef> Creado </th>
                    <td mat-cell *matCellDef="let row"> {{row.created_at}} </td>
                </ng-container>
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef> Acciones </th>
                    <td mat-cell *matCellDef="let row">
                      <div class="d-flex">
                        <button [routerLink]="['./', row.id, 'edit']" class="btn-icon c-edit"><i class="fa-solid fa-pen"></i></button>
                        <button (click)="deleteData(row.id)" class="btn-icon c-delete"><i class="fa-regular fa-trash-can"></i></button>
                      </div>  
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
                <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
            </table>
        </mat-card-content>
    </mat-card>
  </ng-container>
  

</ngx-search-bar-paginator>

<!-- <app-search-template [key_paginator]="'positions'" [url$]="url" (data)="getData($event)">

    <ng-container data>
        <mat-card class="rounded-fz shadow card border-0" *ngFor="let position of data | keyvalue">
            <mat-card-header>
                <mat-card-title>{{position.value.name}}</mat-card-title>
                <mat-card-subtitle>{{position.value.created_at | date}}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <div class="mb-2">
                    <mat-chip-list class="text-capitalize">
                        <mat-chip>{{position.value.employe_type}}</mat-chip>
                        <mat-chip>{{position.value.hierarchy_type}}</mat-chip>
                    </mat-chip-list>
                </div>
                <button [routerLink]="['./', position.key, 'edit']" color="primary" mat-mini-fab><mat-icon>edit</mat-icon></button>
                <button (click)="deleteData(position.key)" color="warn" mat-mini-fab><mat-icon>delete</mat-icon></button>
            </mat-card-content>
        </mat-card>
    </ng-container>

    <ng-container menuBar>
        <mat-chip-list class="ml-1">
            <mat-chip [routerLink]="['./create']" ><mat-icon>add</mat-icon></mat-chip>
        </mat-chip-list>
    </ng-container>
    
</app-search-template> -->
