<!-- <div class="mt-3 pb-3">
  <ngx-search-bar
    [isChangeUrl]="true"
    [(filters)]="filters"
    [nameInputSearch]="'name'"
    placeholder="Buscar productos"
    [withFilter]="true"
    title="Productos"
    (data)="getData($event)"
    path="products-admin/products">
    <ng-container filterMenu>
      <div class="filter-menu">
        <mat-form-field>
          <input matInput placeholder="#" [(ngModel)]="filters['id'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Codigo" [(ngModel)]="filters['code'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Codigo Alterno" [(ngModel)]="filters['code_alt'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Descripción" [(ngModel)]="filters['description'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Tipo" [(ngModel)]="filters['prefix'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Categoría" [(ngModel)]="filters['category'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Secuencia" [(ngModel)]="filters['sequence'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Marca" [(ngModel)]="filters['brand'].value" />
        </mat-form-field>
      </div>
    </ng-container>
    <ng-container buttons>
      <mat-chip-set>
        <mat-chip
          color="create"
          *ngxPermissionsOnly="permission_create"
          [routerLink]="['/admin-products/productos/create']">
          <i class="fa-solid fa-plus"></i>
          Producto
        </mat-chip>
      </mat-chip-set>
    </ng-container>
  </ngx-search-bar>

  <mat-card>
    <mat-card-content>
      <div>
        <table class="table table-responsive table-striped">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Código</th>
              <th scope="col">Alt.</th>
              <th scope="col" colspan="2">Nombre</th>
              <th scope="col" colspan="2">Descripción</th>
              <th scope="col">Tipo</th>
              <th scope="col">Categoría</th>
              <th scope="col">Secuencia</th>
              <th scope="col">Marca</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of products">
              <td>{{ item.id }}</td>
              <td>{{ item.code }}</td>
              <td>{{ item.code_alt }}</td>
              <td colspan="2">{{ item.name }}</td>
              <td colspan="2">{{ item.description }}</td>
              <td>{{ item.prefix?.type }}</td>
              <td>{{ item.category?.name }}</td>
              <td>{{ item.sequence?.sequence_number }}</td>
              <td>{{ item.brand?.name }}</td>
              <td class="d-flex">
                <span
                  [routerLink]="['edit', item.id]"
                  *ngxPermissionsOnly="permission_edit"
                  routerLinkActive="router-link-active"
                  class="mr-1 btn-icon c-edit">
                  <i class="far fa-edit"></i>
                </span>
                <span
                  (click)="destroyProduct(item.id)"
                  *ngxPermissionsOnly="permission_destroy"
                  class="btn-icon c-delete">
                  <i class="far fa-trash-alt"></i>
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </mat-card-content>
  </mat-card>
  <mat-paginator
    [length]="paginator.length"
    [pageSize]="paginator.pageSize"
    [pageSizeOptions]="[10, 20, 30, 40, 50]"
    (page)="changePaginator($event)"></mat-paginator>
</div> -->

<ngx-search-bar-paginator
    [isChangeUrl]="true"
    [(filters)]="filters"
    [nameInputSearch]="'name'"
    placeholder="Buscar productos"
    [withFilter]="true"
    title="Productos"
    (data)="getData($event)"
    path="products-admin/products">
    <ng-container filterMenu>
      <div class="filter-menu">
        <mat-form-field>
          <input matInput placeholder="#" [(ngModel)]="filters['id'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Codigo" [(ngModel)]="filters['code'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Codigo Alterno" [(ngModel)]="filters['code_alt'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Descripción" [(ngModel)]="filters['description'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Tipo" [(ngModel)]="filters['prefix'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Categoría" [(ngModel)]="filters['category'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Secuencia" [(ngModel)]="filters['sequence'].value" />
        </mat-form-field>
        <mat-form-field>
          <input matInput placeholder="Marca" [(ngModel)]="filters['brand'].value" />
        </mat-form-field>
      </div>
    </ng-container>
    <ng-container buttons>
      <mat-chip-set>
        <mat-chip
          color="create"
          *ngxPermissionsOnly="permission_create"
          [routerLink]="['/admin-products/productos/create']">
          <i class="fa-solid fa-plus"></i>
          Producto
        </mat-chip>
      </mat-chip-set>
    </ng-container>
    <mat-card>
      <mat-card-content>
        <table mat-table #table [dataSource]="dataSource">
          <ng-container matColumnDef="code">
            <th mat-header-cell *matHeaderCellDef> Código </th>
            <td mat-cell *matCellDef="let row"> {{row.code}} </td>
          </ng-container>
          <ng-container matColumnDef="code_alt">
            <th mat-header-cell *matHeaderCellDef> Código Alt </th>
            <td mat-cell *matCellDef="let row"> {{row.code_alt}} </td>
          </ng-container>

          <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef> Descripción </th>
            <td mat-cell *matCellDef="let row"> {{row.description}} </td>
          </ng-container>
          <ng-container matColumnDef="prefix">
            <th mat-header-cell *matHeaderCellDef> Prefijo </th>
            <td mat-cell *matCellDef="let row"> {{row.prefix.type}} </td>
          </ng-container>
          <ng-container matColumnDef="category">
            <th mat-header-cell *matHeaderCellDef> Categoria </th>
            <td mat-cell *matCellDef="let row"> {{row.category.name}} </td>
          </ng-container>
          <ng-container matColumnDef="sequence">
            <th mat-header-cell *matHeaderCellDef> Secuencia </th>
            <td mat-cell *matCellDef="let row"> {{row.sequence.sequence_number}} </td>
          </ng-container>
          <ng-container matColumnDef="brand">
            <th mat-header-cell *matHeaderCellDef> Marca </th>
            <td mat-cell *matCellDef="let row"> {{row.brand.name}} </td>
          </ng-container>
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef> Marca </th>
            <td mat-cell *matCellDef="let row"> {{row.brand.name}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
          <tr mat-row *matRowDef="let row; columns: columnsToDisplay;"></tr>
        </table>
      </mat-card-content>
    </mat-card>
  </ngx-search-bar-paginator>